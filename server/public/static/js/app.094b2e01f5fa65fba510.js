webpackJsonp([1],[,,,,,,,,,function(t,e,i){"use strict";var n=i(3),a=i(45),s=i(40),l=i.n(s),o=i(46),r=i.n(o);n.a.use(a.a),n.a.use(r.a,"/"),e.a=new a.a({routes:[{path:"/",name:"index",component:l.a}]})},function(t,e,i){function n(t){i(34)}var a=i(2)(i(31),i(42),n,null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={CREATE:0,PROCESSING:1,DONE:2,ERROR:3}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),a=i(10),s=i.n(a),l=i(9);n.a.config.productionTip=!1,new n.a({el:"#app",router:l.a,render:function(t){return t(s.a)}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(39),a=i.n(n),s=i(41),l=i.n(s),o=i(11),r=i.n(o),u=i(29);e.default={data:function(){var t=this;return{loading:{status:!1,title:""},imgUrl:"",files:[],uploadedFiles:[],filters:[{name:"imageFilter",fn:function(t){return-1!=="|jpg|png|jpeg|".indexOf("|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|")}}],cbEvents:{onProgressUpload:function(e,i){t.loading.status=!0,t.loading.title="正在上传..."},onCompleteUpload:function(e,i,n,a){0===i.code?(t.loading.title="正在处理...",t.$socket.emit("register",i.dealedFile)):(t.loading.status=!1,t.loading.title="")}},reqopts:{formData:{guetzli:"guetzli"},responseType:"json",withCredentials:!1}}},created:function(){this.url="/api/upload"},sockets:{status:function(t){if(t.status===u.a.DONE||t.status===u.a.ERROR){if(t.status===u.a.DONE){var e=t.msg;e.origin.url="/api/img/"+e.origin.filename,e.dealed.url="/api/img/"+e.dealed.filename,e.dealed.download="/api/download/"+e.dealed.filename,this.uploadedFiles.unshift(e)}this.loading.status=!1}}},methods:{submit:function(){r.a.post("/api/imgurl",{imgUrl:this.imgUrl}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},onStatus:function(t){return t.isSuccess?"上传成功":t.isError?"上传失败":t.isUploading?"正在上传":"待上传"},onAddItem:function(t){this.files=t},uploadItem:function(t){t.upload()},uploadAll:function(){this.$refs.vueFileUploader.uploadAll()},clearAll:function(){this.$refs.vueFileUploader.clearAll()}},components:{Loading:l.a,VueFileUpload:a.a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String,default:"上传中..."}}}},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,i){function n(t){i(35)}var a=i(2)(i(32),i(43),n,"data-v-b3e3d172",null);t.exports=a.exports},function(t,e,i){function n(t){i(36)}var a=i(2)(i(33),i(44),n,"data-v-f4a8116e",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),i("router-view")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h1",[t._v("Guetzli 图片无损压缩,支持JPG,PNG格式")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"img-container"},[i("div",{staticClass:"upload-area"},[i("vue-file-upload",{ref:"vueFileUploader",attrs:{label:"上传",url:t.url,filters:t.filters,events:t.cbEvents,"request-options":t.reqopts,autoUpload:!0,name:"guetzli"},on:{onAdd:t.onAddItem}})],1)]),t._v(" "),t.loading.status?i("div",{staticClass:"loading"},[i("Loading",{attrs:{title:t.loading.title}})],1):t._e(),t._v(" "),i("div",{staticClass:"show-container"},t._l(t.uploadedFiles,function(e,n){return i("div",{key:n,staticClass:"record"},[i("div",{staticClass:"left-area"},[i("div",{staticClass:"img-info"},[i("span",[t._v("原图片大小: "+t._s(e.origin.size))])]),t._v(" "),i("div",{staticClass:"img"},[i("img",{attrs:{src:e.origin.url}})])]),t._v(" "),i("div",{staticClass:"right-area"},[i("div",{staticClass:"img-info"},[i("span",[t._v("处理后图片大小: "+t._s(e.dealed.size))]),t._v(" "),i("span",[t._v("压缩比: "+t._s(e.rate)+"%")]),t._v(" "),i("span",[i("a",{attrs:{href:e.dealed.download}},[t._v("下载")])])]),t._v(" "),i("div",{staticClass:"img"},[i("img",{attrs:{src:e.dealed.url}})])])])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[i("img",{attrs:{src:"static/loading.gif"}}),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(t.title))])])},staticRenderFns:[]}}],[30]);
//# sourceMappingURL=app.094b2e01f5fa65fba510.js.map